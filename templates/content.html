{% extends "index.html" %}
{% block elements %}
{{result.elements|length}} elements
{% if result.elements|length > 0 %}
    <table id="data" class="table table-striped">
        <thead>
            <tr>
                <td>Name</td>
                <td>Date</td>            
                <td></td>            
            </tr>
        </thead>
        <tbody>
        {% for ele in result.elements %}
            <tr>
                <td>{{ ele.name }}<br>{{ ele.url }}</td>
                <td>{{ ele.date }}</td>
                <td>
                    {% if ele.source == 'onenote' %}
                    <a class="btn btn-primary" href="/{{ ele.source }}?command=display&id={{ ele.id }}" target="_blank" role="button">Display</a>
                    <a class="btn btn-secondary" href="/{{ ele.source }}?command=write&id={{ ele.id }}" role="button">Write</a>
                    {% elif ele.source == 'notes' %}
                    <a class="btn btn-secondary" href="/{{ ele.source }}?command=display&id={{ ele.id }}" target="_blank" role="button">Display</a>
                    {% endif %}

                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.js"></script>
    <script>
    $(document).ready(function () {
        $('#data').DataTable({
        columns: [
            {orderable: true, searchable: true},
            {orderable: true, searchable: false},
            {orderable: false, searchable: false},
        ],
        });
    });
    </script>
{% endif %}
{% endblock %}
